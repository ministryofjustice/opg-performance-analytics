(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{AnalyticsTrackers:()=>n,ErrorAnalytics:()=>U,PerformanceAnalytics:()=>Q});var n={};e.r(n),e.d(n,{AnalyticsTrackerGTag:()=>K,AnalyticsTrackerGaTag:()=>X});var r={t:!1,i:!1,o:3e4},o=window,a=o.console,i=document,c=o.navigator,u=o.performance,s=function(){return c.deviceMemory},f=function(){return c.hardwareConcurrency},l=function(){return u&&!!u.getEntriesByType&&!!u.now&&!!u.mark},d="4g",m=!1,v=function(){return!!(f()&&f()<=4)||!!(s()&&s()<=4)},p=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return v()||t}},y={u:!1},g=function(e){i.hidden&&(e(),y.u=i.hidden)},T=function(e){return parseFloat(e.toFixed(4))},k=function(e){return"number"!=typeof e?null:T(e/Math.pow(1024,2))},w=[2e3,4e3],h=[2500,4e3],b=[.1,.25],S={ttfb:[200,500],fp:w,fcp:w,lcp:h,lcpFinal:h,fid:[100,300],cls:b,clsFinal:b,tbt:[300,600]},E=function(e,t){return S[e]?t<=S[e][0]?"good":t<=S[e][1]?"needsImprovement":"poor":null},_=function(e,t,n){var a;a=function(){y.u&&e.indexOf("Final")<0||!r.analyticsTracker||r.analyticsTracker({metricName:e,data:t,eventProperties:n||{},navigatorInformation:c?{deviceMemory:s()||0,hardwareConcurrency:f()||0,serviceWorkerStatus:"serviceWorker"in c?c.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:v(),isLowEndExperience:p(d,m)}:{},vitalsScore:E(e,t)})},"requestIdleCallback"in o?o.requestIdleCallback(a,{timeout:3e3}):a()},B=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=T(t[e]))})),_(e,t,n)},F=function(e,t,n){var o=T(e);o<=r.o&&o>=0&&_(t,o,n)},P={},x={value:0},M={value:0},O={value:0},j={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},D={value:0},q=function(e){var t=e.pop();t&&!t.s&&t.value&&(x.value+=t.value)},L={},A=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){a.warn("Perfume.js:",e)}return null},C=function(e){L[e]&&L[e].disconnect(),delete L[e]},z=function(e){var t=e.pop();t&&F(t.processingStart-t.startTime,"fid",{performanceEntry:t}),C(1),F(O.value,"lcp"),L[3]&&"function"==typeof L[3].takeRecords&&L[3].takeRecords(),F(x.value,"cls"),setTimeout((function(){F(D.value,"tbt"),B("dataConsumption",j.value)}),1e4)},I=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<M.value)){var t=e.duration-50;t>0&&(D.value+=t)}}))},R=function(e){e.forEach((function(e){"first-paint"===e.name?F(e.startTime,"fp"):"first-contentful-paint"===e.name&&(M.value=e.startTime,F(M.value,"fcp"),L[4]=A("longtask",I),C(0))}))},W=function(e){var t=e.pop();t&&(O.value=t.renderTime||t.loadTime)},N=function(e){e.forEach((function(e){e.identifier&&F(e.startTime,e.identifier)}))},G=function(e){e.forEach((function(e){if(r.t&&B("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;j.value[e.initiatorType]+=t,j.value.total+=t}}))},$=function(){L[2]&&(F(O.value,"lcpFinal"),C(2)),L[3]&&("function"==typeof L[3].takeRecords&&L[3].takeRecords(),F(x.value,"clsFinal"),C(3))},V=function(e){var t="usageDetails"in e?e.usageDetails:{};B("storageEstimate",{quota:k(e.quota),usage:k(e.usage),caches:k(t.caches),indexedDB:k(t.indexedDB),serviceWorker:k(t.serviceWorkerRegistrations)})};const H=function(){function e(e){if(void 0===e&&(e={}),this.l="6.2.0",r.analyticsTracker=e.analyticsTracker,r.t=!!e.resourceTiming,r.i=!!e.elementTiming,r.o=e.maxMeasureTime||r.o,l()){"PerformanceObserver"in o&&(L[0]=A("paint",R),L[1]=A("first-input",z),L[2]=A("largest-contentful-paint",W),r.t&&A("resource",G),L[3]=A("layout-shift",q),r.i&&A("element",N)),void 0!==i.hidden&&i.addEventListener("visibilitychange",g.bind(this,$));var t=function(){if(!l())return{};var e=u.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();B("navigationTiming",t),t.timeToFirstByte&&F(t.timeToFirstByte,"ttfb"),B("networkInformation",function(){if("connection"in c){var e=c.connection;return"object"!=typeof e?{}:(d=e.effectiveType,m=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),c&&c.storage&&"function"==typeof c.storage.estimate&&c.storage.estimate().then(V)}}return e.prototype.start=function(e){l()&&!P[e]&&(P[e]=!0,u.mark("mark_"+e+"_start"),y.u=!1)},e.prototype.end=function(e,t){void 0===t&&(t={}),l()&&P[e]&&(u.mark("mark_"+e+"_end"),delete P[e],B(e,T(function(e){u.measure(e,"mark_"+e+"_start","mark_"+e+"_end");var t=u.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e)),t))},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete P[e],u.clearMarks&&(u.clearMarks("mark_"+e+"_start"),u.clearMarks("mark_"+e+"_end"))},e}();function J(e,t){window.gtag&&window.gtag("event",e,t)}const K=function(e,t=!1){const{metricName:n,data:r}=e;var o,a;t?(o=n,a=r,console.log(o,a)):J("timing_complete",{name:n,value:r,event_category:"rum"})},Q=function(e,t=!1){return new H({analyticsTracker:n=>e?e(n,t):K(n,t)})},U=function(){"object"==typeof window.onerror&&(window.onerror=(e,t,n)=>{J("exception",{description:`${n}: ${e}`})})},X=function(e,t=!1){const{metricName:n,data:r}=e;var o,a;t?(o=n,a=r,console.log(o,a)):function(e,t){window.ga&&window.ga("send",{hitType:"event",eventCategory:"rum",eventLabel:"timing_complete",eventAction:e,eventValue:t})}(n,r)};module.exports=t})();